---
import Layout from "../layouts/Layout.astro";
import CTAWhatsApp from "../components/CTAWhatsApp.astro";
import Testimonials from "../components/Testimonials.astro";
import { supabase } from "../lib/supabase";

// Fetch team members from Supabase
const { data: teamMembers, error } = await supabase
    .from("team_members")
    .select("*")
    .order("display_order", { ascending: true });

if (error) {
    console.error("Error fetching team members:", error);
}
---

<Layout
    title="Nosotras | Angeles Nails Studio - Nuestro Equipo en Murcia"
    description="Conoce al equipo de profesionales de Angeles Nails Studio. M√°s de 10 a√±os de experiencia en belleza y bienestar en el coraz√≥n de Murcia."
>
    <CTAWhatsApp />

    <!-- Hero Section with Video Placeholder and Overlay Effect -->
    <section
        id="hero"
        class="relative h-screen flex items-center justify-center overflow-hidden pt-32"
    >
        <div class="absolute inset-0 z-0" id="hero-media">
            <!-- Video placeholder - will be replaced with actual video -->
            <img
                src="/img/nosotras.jpg"
                alt="Angeles Nails Background"
                class="w-full h-full object-cover"
            />
            <div class="absolute inset-0 bg-black/50"></div>
        </div>
        <div class="text-center z-10 px-4 max-w-4xl mx-auto">
            <h1
                class="font-serif text-5xl md:text-7xl lg:text-8xl font-bold mb-6 tracking-tight text-white reveal-text opacity-0"
            >
                Nuestra<br />historia
            </h1>
            <p
                class="text-xl md:text-2xl text-white max-w-3xl mx-auto reveal-text opacity-0"
            >
                M√°s de una d√©cada dedicadas a realzar tu belleza natural
            </p>
        </div>
        <!-- Scroll indicator -->
        <div
            class="absolute bottom-10 left-1/2 transform -translate-x-1/2 z-10"
        >
            <div
                class="w-6 h-10 border-2 border-cream-50 rounded-full flex justify-center"
            >
                <div
                    class="w-1 h-3 bg-cream-50 rounded-full mt-2 animate-bounce"
                >
                </div>
            </div>
        </div>
    </section>

    <!-- Large Crossing Text -->
    <div class="relative overflow-hidden bg-cream-50 py-12">
        <div class="crossing-text whitespace-nowrap">
            <span
                class="font-serif text-8xl md:text-[12rem] lg:text-[16rem] font-bold text-brown-800/10"
            >
                BELLEZA ¬∑ EXCELENCIA ¬∑ PASI√ìN ¬∑ BELLEZA ¬∑ EXCELENCIA ¬∑ PASI√ìN ¬∑
            </span>
        </div>
    </div>

    <!-- Nuestra Historia with Parallax Image -->
    <section class="py-32 bg-cream-50 relative overflow-hidden">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div
                class="grid grid-cols-1 lg:grid-cols-2 gap-16 lg:gap-24 items-center"
            >
                <!-- Parallax Image -->
                <div class="reveal-element opacity-0 relative">
                    <div class="parallax-image sticky top-32">
                        <div class="relative group">
                            <img
                                src="/img/salon.jpg"
                                alt="Sal√≥n Angeles Nails"
                                class="w-full h-[600px] object-cover rounded-lg shadow-2xl transition-transform duration-700 group-hover:scale-105"
                            />
                            <div
                                class="absolute -bottom-8 -right-8 w-40 h-40 bg-gold-500 rounded-full opacity-20 blur-3xl"
                            >
                            </div>
                            <div
                                class="absolute -top-8 -left-8 w-40 h-40 bg-gold-400 rounded-full opacity-20 blur-3xl"
                            >
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Content -->
                <div class="space-y-8">
                    <h2
                        class="text-4xl md:text-5xl font-serif font-bold text-brown-800 reveal-text opacity-0 leading-tight"
                    >
                        Donde la belleza se encuentra con la excelencia
                    </h2>
                    <div
                        class="space-y-6 text-lg md:text-xl text-brown-700 leading-relaxed"
                    >
                        <p class="reveal-text opacity-0">
                            En <strong>Angeles Nails Studio</strong>, creemos
                            que cada visita debe ser una experiencia √∫nica de
                            autocuidado y transformaci√≥n.
                        </p>
                        <p class="reveal-text opacity-0">
                            Nuestro sal√≥n es un espacio donde la <strong
                                >t√©cnica profesional</strong
                            > se une con la <strong
                                >atenci√≥n personalizada</strong
                            >.
                        </p>
                        <p class="reveal-text opacity-0">
                            Lo que nos hace especiales es nuestra <strong
                                >pasi√≥n por los detalles</strong
                            >. Todo est√° pensado para que te sientas especial.
                        </p>
                        <div class="reveal-text opacity-0 pt-4">
                            <div
                                class="inline-block px-8 py-4 bg-gold-500/10 border-l-4 border-gold-500"
                            >
                                <p
                                    class="text-2xl md:text-3xl font-serif font-bold text-brown-800"
                                >
                                    +500 clientas satisfechas
                                </p>
                                <p class="text-sm text-brown-600 mt-1">
                                    nos avalan cada d√≠a
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Large Crossing Text 2 -->
    <div class="relative overflow-hidden bg-white py-12">
        <div class="crossing-text-reverse whitespace-nowrap">
            <span
                class="font-serif text-8xl md:text-[12rem] lg:text-[16rem] font-bold text-gold-500/40"
            >
                PROFESIONALIDAD ¬∑ HIGIENE ¬∑ CALIDAD ¬∑ PROFESIONALIDAD ¬∑ HIGIENE
                ¬∑
            </span>
        </div>
    </div>

    <!-- Nuestros Valores - Artistic Layout -->
    <section class="py-32 bg-white relative">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2
                class="text-4xl md:text-5xl font-serif font-bold text-center mb-12 text-brown-800 reveal-text opacity-0"
            >
                Nuestros valores
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-12">
                <!-- Valor 1 -->
                <div
                    class="reveal-element opacity-0 text-center group cursor-pointer"
                >
                    <div
                        class="mb-8 transform transition-transform duration-500 group-hover:scale-110"
                    >
                        <span class="text-8xl">‚ú®</span>
                    </div>
                    <h3
                        class="text-2xl md:text-3xl font-serif font-bold mb-4 text-brown-800"
                    >
                        Excelencia
                    </h3>
                    <p class="text-brown-600 leading-relaxed text-lg">
                        M√°xima calidad en cada servicio con productos
                        profesionales de primera l√≠nea.
                    </p>
                </div>

                <!-- Valor 2 -->
                <div
                    class="reveal-element opacity-0 text-center group cursor-pointer"
                >
                    <div
                        class="mb-8 transform transition-transform duration-500 group-hover:scale-110"
                    >
                        <span class="text-8xl">üõ°Ô∏è</span>
                    </div>
                    <h3
                        class="text-2xl md:text-3xl font-serif font-bold mb-4 text-brown-800"
                    >
                        Higiene
                    </h3>
                    <p class="text-brown-600 leading-relaxed text-lg">
                        Protocolo de esterilizaci√≥n de grado m√©dico. Tu salud es
                        nuestra prioridad absoluta.
                    </p>
                </div>

                <!-- Valor 3 -->
                <div
                    class="reveal-element opacity-0 text-center group cursor-pointer"
                >
                    <div
                        class="mb-8 transform transition-transform duration-500 group-hover:scale-110"
                    >
                        <span class="text-8xl">üíñ</span>
                    </div>
                    <h3
                        class="text-2xl md:text-3xl font-serif font-bold mb-4 text-brown-800"
                    >
                        Pasi√≥n
                    </h3>
                    <p class="text-brown-600 leading-relaxed text-lg">
                        Cada cliente es √∫nico y merece una atenci√≥n
                        personalizada y dedicada.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Nuestro Equipo - Artistic Grid -->
    <section
        class="py-32 bg-gradient-to-br from-brown-50 to-cream-100 relative overflow-hidden"
    >
        <!-- Background decoration -->
        <div
            class="absolute top-0 right-0 w-96 h-96 bg-gold-400/10 rounded-full blur-3xl"
        >
        </div>
        <div
            class="absolute bottom-0 left-0 w-96 h-96 bg-gold-500/10 rounded-full blur-3xl"
        >
        </div>

        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
            <h2
                class="text-4xl md:text-5xl font-serif font-bold text-center mb-12 text-brown-800 reveal-text opacity-0"
            >
                Nuestro equipo
            </h2>
            <p
                class="text-xl md:text-2xl text-brown-600 text-center mb-24 max-w-3xl mx-auto reveal-text opacity-0"
            >
                Profesionales apasionadas, certificadas y en constante formaci√≥n
            </p>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12">
                <!-- Team members with staggered reveal -->
                <div class="reveal-element opacity-0 group">
                    <div class="relative mb-6 overflow-hidden rounded-2xl">
                        <img
                            src="/img/Eliana.jpg"
                            alt="Eliana"
                            class="w-full h-96 object-cover transition-transform duration-700 group-hover:scale-110"
                        />
                        <div
                            class="absolute inset-0 bg-gradient-to-t from-brown-900/80 via-brown-900/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"
                        >
                        </div>
                    </div>
                    <h3
                        class="text-2xl md:text-3xl font-serif font-bold mb-2 text-brown-800"
                    >
                        Eliana
                    </h3>
                    <p class="text-gold-600 font-medium mb-3 text-lg">
                        Manicurista
                    </p>
                    <p class="text-brown-600 leading-relaxed">
                        Especialista en manicura rusa y polygel. +8 a√±os de
                        experiencia.
                    </p>
                </div>

                <div class="reveal-element opacity-0 group">
                    <div class="relative mb-6 overflow-hidden rounded-2xl">
                        <img
                            src="/img/Andrea.jpg"
                            alt="Andrea"
                            class="w-full h-96 object-cover transition-transform duration-700 group-hover:scale-110"
                        />
                        <div
                            class="absolute inset-0 bg-gradient-to-t from-brown-900/80 via-brown-900/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"
                        >
                        </div>
                    </div>
                    <h3
                        class="text-2xl md:text-3xl font-serif font-bold mb-2 text-brown-800"
                    >
                        Andrea
                    </h3>
                    <p class="text-gold-600 font-medium mb-3 text-lg">
                        Estilista
                    </p>
                    <p class="text-brown-600 leading-relaxed">
                        Experta en tratamientos capilares y peinados de √∫ltima
                        tendencia.
                    </p>
                </div>

                <div class="reveal-element opacity-0 group">
                    <div class="relative mb-6 overflow-hidden rounded-2xl">
                        <img
                            src="/img/Nore.jpg"
                            alt="Nore"
                            class="w-full h-96 object-cover transition-transform duration-700 group-hover:scale-110"
                        />
                        <div
                            class="absolute inset-0 bg-gradient-to-t from-brown-900/80 via-brown-900/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"
                        >
                        </div>
                    </div>
                    <h3
                        class="text-2xl md:text-3xl font-serif font-bold mb-2 text-brown-800"
                    >
                        Nore
                    </h3>
                    <p class="text-gold-600 font-medium mb-3 text-lg">
                        Pesta√±as & Cejas
                    </p>
                    <p class="text-brown-600 leading-relaxed">
                        Certificada en lifting y dise√±o. Mirada perfecta
                        garantizada.
                    </p>
                </div>

                <div class="reveal-element opacity-0 group">
                    <div class="relative mb-6 overflow-hidden rounded-2xl">
                        <img
                            src="/img/Angie.jpg"
                            alt="Angie"
                            class="w-full h-96 object-cover transition-transform duration-700 group-hover:scale-110"
                        />
                        <div
                            class="absolute inset-0 bg-gradient-to-t from-brown-900/80 via-brown-900/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"
                        >
                        </div>
                    </div>
                    <h3
                        class="text-2xl md:text-3xl font-serif font-bold mb-2 text-brown-800"
                    >
                        Angie
                    </h3>
                    <p class="text-gold-600 font-medium mb-3 text-lg">
                        Manicurista
                    </p>
                    <p class="text-brown-600 leading-relaxed">
                        Especialista en nail art. Creatividad y precisi√≥n en
                        cada dise√±o.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Final - Artistic -->
    <Testimonials />
    <section
        class="py-40 bg-gradient-to-br from-brown-900 via-brown-800 to-black text-cream-50 relative overflow-hidden"
    >
        <div class="absolute inset-0 opacity-10">
            <div
                class="absolute top-0 left-0 w-full h-full bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48cGF0aCBkPSJNMzYgMzRjMC0yLjIxLTEuNzktNC00LTRzLTQgMS43OS00IDQgMS43OSA0IDQgNCA0LTEuNzkgNC00em0wLTEwYzAtMi4yMS0xLjc5LTQtNC00cy00IDEuNzktNCA0IDEuNzkgNCA0IDQgNC0xLjc5IDQtNHoiLz48L2c+PC9nPjwvc3ZnPg==')] opacity-30"
            >
            </div>
        </div>
        <div class="max-w-5xl mx-auto px-4 text-center relative z-10">
            <h2
                class="text-4xl md:text-5xl font-serif font-bold mb-8 reveal-text opacity-0 leading-tight text-cream-50"
            >
                ¬øLista para conocernos?
            </h2>
            <p
                class="text-xl md:text-2xl mb-16 text-cream-200 reveal-text opacity-0 max-w-3xl mx-auto"
            >
                Ven a visitarnos y descubre por qu√© somos el sal√≥n de confianza
                de cientos de clientas en Murcia
            </p>
            <div
                class="flex flex-col sm:flex-row gap-6 justify-center reveal-text opacity-0"
            >
                <a
                    href="https://wa.me/34613302914?text=Hola,%20quiero%20reservar%20una%20cita"
                    class="group relative px-12 py-5 text-xl font-medium"
                >
                    <span
                        class="relative z-10 text-brown-900 group-hover:text-cream-50 transition-colors duration-300"
                        >Reservar cita</span
                    >
                    <div
                        class="absolute inset-0 bg-gold-500 group-hover:bg-transparent border-2 border-gold-500 transition-all duration-300"
                    >
                    </div>
                </a>
                <a
                    href="/contacto"
                    class="group relative px-12 py-5 text-xl font-medium"
                >
                    <span
                        class="relative z-10 text-cream-50 group-hover:text-brown-900 transition-colors duration-300"
                        >C√≥mo llegar</span
                    >
                    <div
                        class="absolute inset-0 bg-transparent group-hover:bg-cream-50 border-2 border-cream-50 transition-all duration-300"
                    >
                    </div>
                </a>
            </div>
        </div>
    </section>

    <!-- Animations & Parallax Script -->
    <script>
        import { gsap } from "gsap";
        import { ScrollTrigger } from "gsap/ScrollTrigger";

        gsap.registerPlugin(ScrollTrigger);

        // Hero overlay effect - page mounts on top
        gsap.to("#hero-media", {
            scale: 1.2,
            opacity: 0.3,
            scrollTrigger: {
                trigger: "#hero",
                start: "top top",
                end: "bottom top",
                scrub: 1,
            },
        });

        // Crossing text animation
        gsap.to(".crossing-text", {
            x: "-15%",
            scrollTrigger: {
                trigger: ".crossing-text",
                start: "top bottom",
                end: "bottom top",
                scrub: 3,
            },
        });

        gsap.fromTo(
            ".crossing-text-reverse",
            { x: "-30%" },
            {
                x: "0%",
                scrollTrigger: {
                    trigger: ".crossing-text-reverse",
                    start: "top bottom",
                    end: "bottom top",
                    scrub: 3,
                },
            },
        );

        // Parallax image
        gsap.to(".parallax-image", {
            y: 100,
            scrollTrigger: {
                trigger: ".parallax-image",
                start: "top bottom",
                end: "bottom top",
                scrub: 1.5,
            },
        });
        // Reveal Text Elements
        gsap.utils.toArray(".reveal-text").forEach((element: any, index) => {
            gsap.fromTo(
                element,
                {
                    opacity: 0,
                    y: 60,
                },
                {
                    opacity: 1,
                    y: 0,
                    duration: 1.4,
                    ease: "power3.out",
                    scrollTrigger: {
                        trigger: element,
                        start: "top 85%",
                    },
                    delay: index * 0.1,
                },
            );
        });

        // Reveal Elements
        gsap.utils.toArray(".reveal-element").forEach((element: any, index) => {
            gsap.fromTo(
                element,
                {
                    opacity: 0,
                    y: 80,
                    scale: 0.95,
                },
                {
                    opacity: 1,
                    y: 0,
                    scale: 1,
                    duration: 1.6,
                    ease: "power4.out",
                    scrollTrigger: {
                        trigger: element,
                        start: "top 85%",
                    },
                    delay: index * 0.15,
                },
            );
        });
    </script>

    <style>
        /* Smooth scroll */
        html {
            scroll-behavior: smooth;
        }

        /* Crossing text styling */
        .crossing-text,
        .crossing-text-reverse {
            display: inline-block;
            will-change: transform;
        }
    </style>
</Layout>
